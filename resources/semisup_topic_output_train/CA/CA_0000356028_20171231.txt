Operating results for the three and nine months ended December 31, 2017 are not necessarily indicative of the results that may be expected for the fiscal year ending March 31, 2018.
Income tax expense for the three and nine months ended December 31, 2017 was approximately $375 million and $509 million, respectively, compared with income tax expense for the three and nine months ended December 31, 2016 of approximately $84 million and $257 million, respectively. For the three and nine months ended December 31, 2017, the Company recorded a net discrete tax expense of approximately $310 million and $302 million, respectively. Of these amounts, approximately $318 million resulted from preliminary estimates of the impact of changes in tax law in the United States resulting from the enactment of the Tax Act.
The Company’s Mainframe Solutions and Enterprise Solutions segments are comprised of its software business organized by the nature of the Company’s software offerings and the platforms on which the products operate. The Services segment is comprised of product implementation, consulting, customer education and customer training services, including those directly related to the Mainframe Solutions and Enterprise Solutions software that the Company sells to its customers.
The Condensed Consolidated Statement of Operations for the three and nine months ended December 31, 2017 included total revenue of approximately $68 million and $182 million, respectively, and net loss of approximately $16 million and $53 million, respectively, from Automic and Veracode.
The excess purchase price over the estimated value of the net tangible and identifiable intangible assets was recorded to goodwill. The allocation of the purchase price to goodwill was predominantly due to synergies the Company expects to achieve through integration of the acquired technology with the Company’s existing product portfolio and the intangible assets that are not separable, such as assembled workforce and going concern. The goodwill relating to the Company’s acquisitions of Automic and Veracode is not expected to be deductible for tax purposes and is allocated to the Enterprise Solutions segment. The purchase price allocation for Automic was finalized during the third quarter of fiscal year 2018. During the third quarter of fiscal year 2018, the Company recorded $72 million of additional deferred tax assets relating to Veracode based on further review of their historical tax records. The Company expects to complete its analysis of Veracode’s historical tax records and finalize the purchase price allocation for Veracode in the fourth quarter of fiscal year 2018.Enterprise Solutions revenue for the third quarter and first nine months of fiscal 2018 increased compared with the third quarter and first nine months of fiscal 2017, respectively, primarily due to revenue generated from our Automic and Veracode acquisitions of $62 million and $161 million in the third quarter and first nine months of fiscal 2018, respectively. The revenue generated from our Automic and Veracode acquisitions for the first nine months of fiscal 2018 was partially offset by a decline in revenue from our Enterprise Solutions products recognized on an upfront basis. Enterprise Solutions operating margin for the third quarter and first nine months of fiscal 2018 decreased compared with the third quarter and first nine months of fiscal 2017, respectively, primarily due to costs associated with our Automic and Veracode acquisitions, which were mainly personnel-related.
Operating expenses for the third quarter of fiscal 2018 increased compared with the third quarter of fiscal 2017 primarily due to $84 million of costs from our Automic and Veracode acquisitions, which were mainly personnel-related, in the third quarter of fiscal 2018.
•Renewal bookings decreased by a percentage in the high teens primarily due to the decline in Mainframe Solutions renewal bookings, which was attributable to the timing of our renewal portfolio. This decline in Mainframe Solutions renewal bookings was partially offset by renewal bookings associated with our Automic and Veracode acquisitions. Excluding our Automic and Veracode acquisitions, renewal bookings decreased by a percentage in the mid-20s.
For the first nine months of fiscal 2018 and fiscal 2017, product development and enhancements expense represented 15% and 14% respectively, of total revenue. For the first nine months of fiscal 2018, product development and enhancements expense increased compared with the first nine months of fiscal 2017 due to costs from our Automic and Veracode acquisitions, which were mainly personnel-related.
For the third quarter of fiscal 2018 and fiscal 2017, product development and enhancements expense represented 14% and 14%, respectively, of total revenue. For the third quarter of fiscal 2018, product development and enhancements expense increased compared with the third quarter of fiscal 2017 due to costs from our Automic and Veracode acquisitions, which were mainly personnel-related.
Net cash provided by operating activities for the first nine months of fiscal 2018 was $650 million, representing a decrease of $8 million compared with the first nine months of fiscal 2017. The decrease in net cash provided by operating activities was primarily due to an increase in vendor disbursements and payroll of $160 million attributable to disbursements from our Automic and Veracode acquisitions and an increase in other disbursements, net of $15 million, offset by an increase in cash collections from billings of $124 million attributable to collections from our Automic and Veracode acquisitions and a decrease in income tax payments, net of $43 million compared with the year-ago period.
Net cash provided by operating activities for the third quarter of fiscal 2018 was $315 million, representing a decrease of $202 million compared with the third quarter of fiscal 2017. The decrease in net cash provided by operating activities was primarily due to a decrease in cash collections from billings of $153 million attributable to lower single installment collections and an increase in vendor disbursements and payroll of $41 million compared with the year-ago period.
Software fees and other revenue for the third quarter and first nine months of fiscal 2018 increased compared with the third quarter and first nine months of fiscal 2017, respectively, primarily due to software fees and other revenue generated from our Automic and Veracode acquisitions of $41 million and $107 million for the third quarter and first nine months of fiscal 2018, respectively. Excluding the software fees and other revenue generated from our Automic and Veracode acquisitions for the first nine months of fiscal 2018, software fees and other revenue decreased primarily due to a decline in revenue from our Enterprise Solutions products recognized on an upfront basis.
Selling and marketing expenses include the costs relating to our sales force, partners, corporate and business marketing and customer training programs. Selling and marketing expenses for the third quarter and first nine months of fiscal 2018 increased compared with the third quarter and first nine months of fiscal 2017 due to costs from our Automic and Veracode acquisitions of $34 million and $91 million, which were mainly personnel-related, in the third quarter and first nine months of fiscal 2018, respectively. These increases were partially offset by decreases in non-acquisition-related costs of $20 million and $64 million, respectively, which primarily included personnel-related and commission costs.
Mainframe Solutions revenue for the first nine months of fiscal 2018 decreased compared with the first nine months of fiscal 2017 primarily due to insufficient revenue from prior period new sales to offset the decline in revenue contribution from renewals. Mainframe Solutions operating margin for the first nine months of fiscal 2018 increased compared with the first nine months of fiscal 2017 primarily due to a decrease in corporate overhead costs and the Mainframe Solutions portion of the litigation settlement costs incurred during the second quarter of fiscal 2017.
Income tax expense for the third quarter and first nine months of fiscal 2018 was $375 million and $509 million, respectively, compared with income tax expense for the third quarter and first nine months of fiscal 2017 of $84 million and $257 million, respectively. For the third quarter and first nine months of fiscal 2018, we recorded a net discrete tax expense of $310 million and $302 million, respectively. Of these amounts, $318 million resulted from preliminary estimates of the impact of changes in tax law in the United States resulting from the Tax Act.
Services revenue for the third quarter of fiscal 2018 increased compared with the third quarter of fiscal 2017 primarily due to $6 million of professional services revenue generated from our Automic and Veracode acquisitions in the third quarter of fiscal 2018. Operating margin for Services for the third quarter of fiscal 2018 increased compared with the third quarter of fiscal 2017 primarily due to a decrease in personnel-related costs as a result of severance actions during the third quarter of fiscal 2017 and, to a lesser extent, higher margins from services associated with our Automic and Veracode acquisitions.
Total revenue for the first nine months of fiscal 2018 increased compared with the first nine months of fiscal 2017 primarily due to an increase in software fees and other revenue. During the first nine months of fiscal 2018, total revenue included $182 million from our Automic and Veracode acquisitions, primarily included in software fees and other revenue. Excluding the revenue generated from our Automic and Veracode acquisitions, total revenue decreased primarily due to a decline in our Mainframe Solutions revenue and, to a lesser extent, a decline in revenue from our Enterprise Solutions products recognized on an upfront basis. There was a favorable foreign exchange effect of $17 million for the first nine months of fiscal 2018.